
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>3D Visualization with Styled Data Table and Legend</title>
        <style>
            body {
                font-family: Arial, sans-serif;
                margin: 0;
                padding: 0;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                min-height: 100vh; /* Ensure the body takes the full height */
            }
            .top-content {
                display: flex;
                flex-direction: row;
                align-items: flex-start;
                justify-content: center;
                width: 100%;
                margin: 20px 0;
            }
            .viewer-container {
                width: 800px;
                height: 500px;
            }
            .legend-container {
                display: flex;
                flex-direction: column;
                align-items: flex-start;
                margin-left: 20px;
                padding: 10px;
                border: 1px solid #ddd;
                border-radius: 5px;
                background-color: #f9f9f9;
            }
            .legend-item {
                display: flex;
                align-items: center;
                margin: 5px 0;
            }
            .legend-color {
                width: 20px;
                height: 20px;
                border-radius: 50%;
                display: inline-block;
                margin-right: 10px;
                border: 1px solid #000;
            }
            .legend-label {
                font-size: 14px;
            }
            .table-container {
                width: 80%;
                margin: 20px 0;
                text-align: center;
                display: flex;
                justify-content: center;
            }
            .scrollable-table {
                overflow-x: auto; /* Enable horizontal scrolling */
                max-width: 100%;  /* Prevent table from exceeding the container width */
            }
            table.dataframe {
                width: max-content; /* Adjust table width based on content */
                border-collapse: collapse;
                margin: 0 auto;
            }
            table.dataframe th, table.dataframe td {
                border: 1px solid #ddd;
                padding: 8px;
                text-align: center;
            }
            table.dataframe th {
                background-color: #f4f4f4;
                font-weight: bold;
            }
        </style>
    </head>
    <body>
        <h1>3D Visualization with Styled Data Table and Legend</h1>
        <div class="top-content">
            <div class="viewer-container">
                <div id="3dmolviewer_17332198833259916"  style="position: relative; width: 800px; height: 500px;">
        <p id="3dmolwarning_17332198833259916" style="background-color:#ffcccc;color:black">3Dmol.js failed to load for some reason.  Please check your browser console for error messages.<br></p>
        </div>
<script>

var loadScriptAsync = function(uri){
  return new Promise((resolve, reject) => {
    //this is to ignore the existence of requirejs amd
    var savedexports, savedmodule;
    if (typeof exports !== 'undefined') savedexports = exports;
    else exports = {}
    if (typeof module !== 'undefined') savedmodule = module;
    else module = {}

    var tag = document.createElement('script');
    tag.src = uri;
    tag.async = true;
    tag.onload = () => {
        exports = savedexports;
        module = savedmodule;
        resolve();
    };
  var firstScriptTag = document.getElementsByTagName('script')[0];
  firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
});
};

if(typeof $3Dmolpromise === 'undefined') {
$3Dmolpromise = null;
  $3Dmolpromise = loadScriptAsync('https://cdnjs.cloudflare.com/ajax/libs/3Dmol/2.4.2/3Dmol-min.js');
}

var viewer_17332198833259916 = null;
var warn = document.getElementById("3dmolwarning_17332198833259916");
if(warn) {
    warn.parentNode.removeChild(warn);
}
$3Dmolpromise.then(function() {
viewer_17332198833259916 = $3Dmol.createViewer(document.getElementById("3dmolviewer_17332198833259916"),{backgroundColor:"white"});
viewer_17332198833259916.zoomTo();
	viewer_17332198833259916.addModel("99\nXYZ file generated with PBC expansion\nEu 4.986753815686024 3.5105110703593425 -2.8434815581503914\nEu 4.986753815686024 3.5105110703593425 2.9960361718496085\nEu 6.668217186252108 8.203707688486807 -5.622474236893972\nEu 6.668217186252108 8.203707688486807 0.21704349310602886\nEu 9.972073621170777 3.5105110703593425 -5.622474236893971\nEu 9.972073621170777 3.5105110703593425 0.21704349310602927\nEu 11.653536991736859 8.203707688486807 -8.401466915637549\nEu 11.653536991736859 8.203707688486807 -2.56194918563755\nEu 1.6800293603648102 1.1826855477681208 3.1250139306632363\nEu 1.6800293603648102 1.1826855477681208 8.964531660663237\nEu 3.3614927309308933 5.875882165895584 0.34602125191965877\nEu 3.3614927309308933 5.875882165895584 6.18553898191966\nEu 6.665349165849561 1.1826855477681208 0.34602125191965877\nEu 6.665349165849561 1.1826855477681208 6.18553898191966\nEu 8.346812536415644 5.875882165895584 -2.4329714268239186\nEu 8.346812536415644 5.875882165895584 3.406546303176081\nNb 0.0 0.0 0.0\nNb 0.0 0.0 11.67903546\nNb 3.3629267411321666 9.386393236254927 -5.557985357487155\nNb 3.3629267411321666 9.386393236254927 6.121050102512845\nNb 9.970639610969501 0.0 -5.557985357487155\nNb 9.970639610969501 0.0 6.121050102512845\nNb 13.333566352101668 9.386393236254927 -11.11597071497431\nNb 13.333566352101668 9.386393236254927 0.5630647450256898\nNb 0.0 0.0 5.83951773\nNb 3.3629267411321666 9.386393236254927 0.2815323725128449\nNb 9.970639610969501 0.0 0.2815323725128449\nNb 13.333566352101668 9.386393236254927 -5.27645298497431\nNb 1.6814633705660833 4.693196618127463 -2.7789926787435775\nNb 1.6814633705660833 4.693196618127463 8.900042781256422\nNb 11.652102981535585 4.693196618127463 -8.336978036230732\nNb 11.652102981535585 4.693196618127463 3.3420574237692673\nNb 1.6814633705660833 4.693196618127463 3.0605250512564224\nNb 11.652102981535585 4.693196618127463 -2.4974603062307326\nNb 4.9853198054847505 0.0 -2.7789926787435775\nNb 4.9853198054847505 0.0 8.900042781256422\nNb 8.348246546616917 9.386393236254927 -8.336978036230732\nNb 8.348246546616917 9.386393236254927 3.3420574237692673\nNb 4.9853198054847505 0.0 3.0605250512564224\nNb 8.348246546616917 9.386393236254927 -2.4974603062307326\nNb 6.666783176050835 4.693196618127463 -5.557985357487155\nNb 6.666783176050835 4.693196618127463 6.121050102512845\nNb 6.666783176050835 4.693196618127463 0.2815323725128449\nSb 3.333391588025417 2.3465983090637317 0.14076618625642245\nSb 3.333391588025417 2.3465983090637317 5.980283916256422\nSb 5.014854958591501 7.039794927191196 -2.638226492487156\nSb 5.014854958591501 7.039794927191196 3.201291237512844\nSb 8.318711393510167 2.3465983090637317 -2.638226492487155\nSb 8.318711393510167 2.3465983090637317 3.201291237512845\nSb 10.000174764076252 7.039794927191196 -5.417219171230732\nSb 10.000174764076252 7.039794927191196 0.42229855876926736\nO 3.7324452922629763 0.8166162115541783 -1.443368766714451\nO 3.7324452922629763 0.8166162115541783 4.39614896328555\nO 5.41390866282906 5.509812829681642 -4.222361445458029\nO 5.41390866282906 5.509812829681642 1.617156284541971\nO 8.717765097747726 0.8166162115541783 -4.222361445458029\nO 8.717765097747726 0.8166162115541783 1.6171562845419718\nO 10.39922846831381 5.509812829681642 -7.001354124201606\nO 10.39922846831381 5.509812829681642 -1.1618363942016066\nO 2.0276553718449435 3.2383056665079493 -1.443368766714451\nO 2.0276553718449435 3.2383056665079493 4.396148963285549\nO 3.709118742411027 7.931502284635413 -4.22236144545803\nO 3.709118742411027 7.931502284635413 1.617156284541971\nO 7.012975177329695 3.2383056665079493 -4.222361445458029\nO 7.012975177329695 3.2383056665079493 1.617156284541971\nO 8.694438547895778 7.931502284635413 -7.001354124201606\nO 8.694438547895778 7.931502284635413 -1.1618363942016066\nO 1.5400269136677431 1.0841284187874445 0.7424180347304664\nO 1.5400269136677431 1.0841284187874445 6.581935764730466\nO 3.221490284233825 5.777325036914908 -2.0365746440131103\nO 3.221490284233825 5.777325036914908 3.8029430859868896\nO 6.525346719152493 1.0841284187874445 -2.036574644013111\nO 6.525346719152493 1.0841284187874445 3.8029430859868887\nO 8.206810089718577 5.777325036914908 -4.815567322756688\nO 8.206810089718577 5.777325036914908 1.023950407243311\nO 5.1267562623830925 3.6090681993400198 -0.4608856622176224\nO 5.1267562623830925 3.6090681993400198 5.378632067782378\nO 6.808219632949175 8.302264817467483 -3.2398783409611984\nO 6.808219632949175 8.302264817467483 2.5996393890388014\nO 10.112076067867843 3.6090681993400198 -3.2398783409611998\nO 10.112076067867843 3.6090681993400198 2.5996393890388\nO 11.793539438433925 8.302264817467483 -6.018871019704777\nO 11.793539438433925 8.302264817467483 -0.17935328970477749\nO 4.6391278042058905 1.4548909516195139 1.724901139227296\nO 4.6391278042058905 1.4548909516195139 7.564418869227295\nO 6.320591174771974 6.148087569746977 -1.0540915395162824\nO 6.320591174771974 6.148087569746977 4.785426190483719\nO 9.624447609690643 1.4548909516195139 -1.0540915395162807\nO 9.624447609690643 1.4548909516195139 4.785426190483719\nO 11.305910980256723 6.148087569746977 -3.8330842182598577\nO 11.305910980256723 6.148087569746977 2.006433511740142\nO 2.9343378837878578 3.876580406573285 1.7249011392272946\nO 2.9343378837878578 3.876580406573285 7.5644188692272945\nO 4.615801254353941 8.569777024700748 -1.0540915395162824\nO 4.615801254353941 8.569777024700748 4.785426190483717\nO 7.919657689272609 3.876580406573285 -1.0540915395162833\nO 7.919657689272609 3.876580406573285 4.785426190483716\nO 9.601121059838693 8.569777024700748 -3.833084218259861\nO 9.601121059838693 8.569777024700748 2.0064335117401404","xyz");
	viewer_17332198833259916.setStyle({"elem": "O"},{"stick": {"radius": 0.15, "color": "#FF0300"}, "sphere": {"scale": 0.3, "color": "#FF0300"}});
	viewer_17332198833259916.setStyle({"elem": "Nb"},{"stick": {"radius": 0.15, "color": "#4CB376"}, "sphere": {"scale": 0.3, "color": "#4CB376"}});
	viewer_17332198833259916.setStyle({"elem": "Sb"},{"stick": {"radius": 0.15, "color": "#D88350"}, "sphere": {"scale": 0.3, "color": "#D88350"}});
	viewer_17332198833259916.setStyle({"elem": "Eu"},{"stick": {"radius": 0.15, "color": "#FB08D5"}, "sphere": {"scale": 0.3, "color": "#FB08D5"}});
	viewer_17332198833259916.addLine({"start": {"x": 0, "y": 0, "z": 0}, "end": {"x": 9.970639610969501, "y": 0.0, "z": -5.557985357487155}, "color": "black", "linewidth": 2});
	viewer_17332198833259916.addLine({"start": {"x": 0, "y": 0, "z": 0}, "end": {"x": 3.3629267411321666, "y": 9.386393236254927, "z": -5.557985357487155}, "color": "black", "linewidth": 2});
	viewer_17332198833259916.addLine({"start": {"x": 0, "y": 0, "z": 0}, "end": {"x": 0.0, "y": 0.0, "z": 11.67903546}, "color": "black", "linewidth": 2});
	viewer_17332198833259916.addLine({"start": {"x": 9.970639610969501, "y": 0.0, "z": -5.557985357487155}, "end": {"x": 13.333566352101668, "y": 9.386393236254927, "z": -11.11597071497431}, "color": "black", "linewidth": 2});
	viewer_17332198833259916.addLine({"start": {"x": 9.970639610969501, "y": 0.0, "z": -5.557985357487155}, "end": {"x": 9.970639610969501, "y": 0.0, "z": 6.121050102512845}, "color": "black", "linewidth": 2});
	viewer_17332198833259916.addLine({"start": {"x": 3.3629267411321666, "y": 9.386393236254927, "z": -5.557985357487155}, "end": {"x": 13.333566352101668, "y": 9.386393236254927, "z": -11.11597071497431}, "color": "black", "linewidth": 2});
	viewer_17332198833259916.addLine({"start": {"x": 3.3629267411321666, "y": 9.386393236254927, "z": -5.557985357487155}, "end": {"x": 3.3629267411321666, "y": 9.386393236254927, "z": 6.121050102512845}, "color": "black", "linewidth": 2});
	viewer_17332198833259916.addLine({"start": {"x": 0.0, "y": 0.0, "z": 11.67903546}, "end": {"x": 9.970639610969501, "y": 0.0, "z": 6.121050102512845}, "color": "black", "linewidth": 2});
	viewer_17332198833259916.addLine({"start": {"x": 0.0, "y": 0.0, "z": 11.67903546}, "end": {"x": 3.3629267411321666, "y": 9.386393236254927, "z": 6.121050102512845}, "color": "black", "linewidth": 2});
	viewer_17332198833259916.addLine({"start": {"x": 13.333566352101668, "y": 9.386393236254927, "z": -11.11597071497431}, "end": {"x": 13.333566352101668, "y": 9.386393236254927, "z": 0.5630647450256898}, "color": "black", "linewidth": 2});
	viewer_17332198833259916.addLine({"start": {"x": 9.970639610969501, "y": 0.0, "z": 6.121050102512845}, "end": {"x": 13.333566352101668, "y": 9.386393236254927, "z": 0.5630647450256898}, "color": "black", "linewidth": 2});
	viewer_17332198833259916.addLine({"start": {"x": 3.3629267411321666, "y": 9.386393236254927, "z": 6.121050102512845}, "end": {"x": 13.333566352101668, "y": 9.386393236254927, "z": 0.5630647450256898}, "color": "black", "linewidth": 2});
	viewer_17332198833259916.zoomTo();
viewer_17332198833259916.render();
});
</script>
            </div>
            <div class="legend-container">
            <div class="legend-item">
                <span class="legend-color" style="background-color: #FF0300;"></span>
                <span class="legend-label">O</span>
            </div>
        
            <div class="legend-item">
                <span class="legend-color" style="background-color: #4CB376;"></span>
                <span class="legend-label">Nb</span>
            </div>
        
            <div class="legend-item">
                <span class="legend-color" style="background-color: #D88350;"></span>
                <span class="legend-label">Sb</span>
            </div>
        
            <div class="legend-item">
                <span class="legend-color" style="background-color: #FB08D5;"></span>
                <span class="legend-label">Eu</span>
            </div>
        </div>
        </div>
        <div class="table-container">
            <div class="scrollable-table">
                <style  type="text/css" >
#T_e03bb_row0_col0,#T_e03bb_row0_col1,#T_e03bb_row0_col2,#T_e03bb_row0_col3,#T_e03bb_row0_col4,#T_e03bb_row0_col5{
            background-color:  lightgreen;
        }#T_e03bb_row1_col0,#T_e03bb_row1_col1,#T_e03bb_row1_col2,#T_e03bb_row1_col3,#T_e03bb_row1_col4,#T_e03bb_row1_col5{
            background-color:  lightcoral;
        }</style><table id="T_e03bb_" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >Eu1</th>        <th class="col_heading level0 col1" >Eu2</th>        <th class="col_heading level0 col2" >Eu3</th>        <th class="col_heading level0 col3" >Eu4</th>        <th class="col_heading level0 col4" >Nb1</th>        <th class="col_heading level0 col5" >Nb2</th>        <th class="col_heading level0 col6" >Sb1</th>        <th class="col_heading level0 col7" >Sb2</th>        <th class="col_heading level0 col8" >O1</th>        <th class="col_heading level0 col9" >O2</th>        <th class="col_heading level0 col10" >O3</th>        <th class="col_heading level0 col11" >O4</th>        <th class="col_heading level0 col12" >O5</th>        <th class="col_heading level0 col13" >O6</th>        <th class="col_heading level0 col14" >O7</th>        <th class="col_heading level0 col15" >O8</th>        <th class="col_heading level0 col16" >O9</th>        <th class="col_heading level0 col17" >O10</th>        <th class="col_heading level0 col18" >O11</th>        <th class="col_heading level0 col19" >O12</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_e03bb_level0_row0" class="row_heading level0 row0" >TOSS</th>
                        <td id="T_e03bb_row0_col0" class="data row0 col0" >3</td>
                        <td id="T_e03bb_row0_col1" class="data row0 col1" >3</td>
                        <td id="T_e03bb_row0_col2" class="data row0 col2" >3</td>
                        <td id="T_e03bb_row0_col3" class="data row0 col3" >3</td>
                        <td id="T_e03bb_row0_col4" class="data row0 col4" >3</td>
                        <td id="T_e03bb_row0_col5" class="data row0 col5" >3</td>
                        <td id="T_e03bb_row0_col6" class="data row0 col6" >3</td>
                        <td id="T_e03bb_row0_col7" class="data row0 col7" >3</td>
                        <td id="T_e03bb_row0_col8" class="data row0 col8" >-2</td>
                        <td id="T_e03bb_row0_col9" class="data row0 col9" >-2</td>
                        <td id="T_e03bb_row0_col10" class="data row0 col10" >-2</td>
                        <td id="T_e03bb_row0_col11" class="data row0 col11" >-2</td>
                        <td id="T_e03bb_row0_col12" class="data row0 col12" >-2</td>
                        <td id="T_e03bb_row0_col13" class="data row0 col13" >-2</td>
                        <td id="T_e03bb_row0_col14" class="data row0 col14" >-2</td>
                        <td id="T_e03bb_row0_col15" class="data row0 col15" >-2</td>
                        <td id="T_e03bb_row0_col16" class="data row0 col16" >-2</td>
                        <td id="T_e03bb_row0_col17" class="data row0 col17" >-2</td>
                        <td id="T_e03bb_row0_col18" class="data row0 col18" >-2</td>
                        <td id="T_e03bb_row0_col19" class="data row0 col19" >-2</td>
            </tr>
            <tr>
                        <th id="T_e03bb_level0_row1" class="row_heading level0 row1" >BVS</th>
                        <td id="T_e03bb_row1_col0" class="data row1 col0" >2</td>
                        <td id="T_e03bb_row1_col1" class="data row1 col1" >2</td>
                        <td id="T_e03bb_row1_col2" class="data row1 col2" >2</td>
                        <td id="T_e03bb_row1_col3" class="data row1 col3" >2</td>
                        <td id="T_e03bb_row1_col4" class="data row1 col4" >5</td>
                        <td id="T_e03bb_row1_col5" class="data row1 col5" >5</td>
                        <td id="T_e03bb_row1_col6" class="data row1 col6" >3</td>
                        <td id="T_e03bb_row1_col7" class="data row1 col7" >3</td>
                        <td id="T_e03bb_row1_col8" class="data row1 col8" >-2</td>
                        <td id="T_e03bb_row1_col9" class="data row1 col9" >-2</td>
                        <td id="T_e03bb_row1_col10" class="data row1 col10" >-2</td>
                        <td id="T_e03bb_row1_col11" class="data row1 col11" >-2</td>
                        <td id="T_e03bb_row1_col12" class="data row1 col12" >-2</td>
                        <td id="T_e03bb_row1_col13" class="data row1 col13" >-2</td>
                        <td id="T_e03bb_row1_col14" class="data row1 col14" >-2</td>
                        <td id="T_e03bb_row1_col15" class="data row1 col15" >-2</td>
                        <td id="T_e03bb_row1_col16" class="data row1 col16" >-2</td>
                        <td id="T_e03bb_row1_col17" class="data row1 col17" >-2</td>
                        <td id="T_e03bb_row1_col18" class="data row1 col18" >-2</td>
                        <td id="T_e03bb_row1_col19" class="data row1 col19" >-2</td>
            </tr>
            <tr>
                        <th id="T_e03bb_level0_row2" class="row_heading level0 row2" >Spin</th>
                        <td id="T_e03bb_row2_col0" class="data row2 col0" >-0.000</td>
                        <td id="T_e03bb_row2_col1" class="data row2 col1" >-0.000</td>
                        <td id="T_e03bb_row2_col2" class="data row2 col2" >-0.000</td>
                        <td id="T_e03bb_row2_col3" class="data row2 col3" >-0.000</td>
                        <td id="T_e03bb_row2_col4" class="data row2 col4" >-0.000</td>
                        <td id="T_e03bb_row2_col5" class="data row2 col5" >0.000</td>
                        <td id="T_e03bb_row2_col6" class="data row2 col6" >0.000</td>
                        <td id="T_e03bb_row2_col7" class="data row2 col7" >0.000</td>
                        <td id="T_e03bb_row2_col8" class="data row2 col8" >0.000</td>
                        <td id="T_e03bb_row2_col9" class="data row2 col9" >0.000</td>
                        <td id="T_e03bb_row2_col10" class="data row2 col10" >0.000</td>
                        <td id="T_e03bb_row2_col11" class="data row2 col11" >0.000</td>
                        <td id="T_e03bb_row2_col12" class="data row2 col12" >-0.000</td>
                        <td id="T_e03bb_row2_col13" class="data row2 col13" >0.000</td>
                        <td id="T_e03bb_row2_col14" class="data row2 col14" >-0.000</td>
                        <td id="T_e03bb_row2_col15" class="data row2 col15" >-0.000</td>
                        <td id="T_e03bb_row2_col16" class="data row2 col16" >-0.000</td>
                        <td id="T_e03bb_row2_col17" class="data row2 col17" >-0.000</td>
                        <td id="T_e03bb_row2_col18" class="data row2 col18" >-0.000</td>
                        <td id="T_e03bb_row2_col19" class="data row2 col19" >-0.000</td>
            </tr>
            <tr>
                        <th id="T_e03bb_level0_row3" class="row_heading level0 row3" >Bader</th>
                        <td id="T_e03bb_row3_col0" class="data row3 col0" >6.429</td>
                        <td id="T_e03bb_row3_col1" class="data row3 col1" >6.429</td>
                        <td id="T_e03bb_row3_col2" class="data row3 col2" >6.429</td>
                        <td id="T_e03bb_row3_col3" class="data row3 col3" >6.429</td>
                        <td id="T_e03bb_row3_col4" class="data row3 col4" >10.379</td>
                        <td id="T_e03bb_row3_col5" class="data row3 col5" >10.379</td>
                        <td id="T_e03bb_row3_col6" class="data row3 col6" >0.922</td>
                        <td id="T_e03bb_row3_col7" class="data row3 col7" >0.922</td>
                        <td id="T_e03bb_row3_col8" class="data row3 col8" >7.816</td>
                        <td id="T_e03bb_row3_col9" class="data row3 col9" >7.779</td>
                        <td id="T_e03bb_row3_col10" class="data row3 col10" >7.328</td>
                        <td id="T_e03bb_row3_col11" class="data row3 col11" >7.328</td>
                        <td id="T_e03bb_row3_col12" class="data row3 col12" >7.776</td>
                        <td id="T_e03bb_row3_col13" class="data row3 col13" >7.813</td>
                        <td id="T_e03bb_row3_col14" class="data row3 col14" >7.816</td>
                        <td id="T_e03bb_row3_col15" class="data row3 col15" >7.779</td>
                        <td id="T_e03bb_row3_col16" class="data row3 col16" >7.328</td>
                        <td id="T_e03bb_row3_col17" class="data row3 col17" >7.328</td>
                        <td id="T_e03bb_row3_col18" class="data row3 col18" >7.776</td>
                        <td id="T_e03bb_row3_col19" class="data row3 col19" >7.813</td>
            </tr>
    </tbody></table>
            </div>
        </div>
    </body>
    </html>
    